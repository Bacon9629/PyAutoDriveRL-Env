# CarRL Environment: Data and Information

This document outlines the details of the data provided by the **CarRL Environment**. It explains the car telemetry information available during training, which can be accessed through the `CarData` class. This environment is structured to allow interaction with a simulated car for reinforcement learning (RL) tasks.

## CarData Class

The [`CarData` class](CarDataService.py) encapsulates all the telemetry data generated by the car simulation. The class provides various fields that represent different aspects of the car's state, including its speed, position, and control inputs.

### Available Telemetry Data

The following table outlines the key attributes provided by `CarData`:

| Attribute                   | Type           | Description                                                                 |
|-----------------------------|----------------|-----------------------------------------------------------------------------|
| `image`                     | numpy.ndarray  | The car's front-facing camera feed (RGB image) captured by the simulation.  |
| `steering_angle`            | float          | Steering angle (-1 full left, 1 full right).                                |
| `throttle`                  | float          | Throttle value (-1 for reverse, 1 for full throttle).                       |
| `speed`                     | float          | The car's speed in meters per second.                                       |
| `velocity_x`, `velocity_y`, `velocity_z` | float | The car's velocity in the x, y, and z directions.                       |
| `acceleration_x`, `acceleration_y`, `acceleration_z` | float | The car's acceleration along the x, y, and z axes.          |
| `angular_velocity_x`, `angular_velocity_y`, `angular_velocity_z` | float | Angular velocity along x, y, and z axes.        |
| `wheel_friction_forward`    | float          | Friction applied to the wheels in the forward direction.                    |
| `wheel_friction_sideways`   | float          | Friction applied to the wheels in the sideways direction.                   |
| `brake_input`               | float          | Brake input force.                                                          |
| `progress`                  | float          | Progress on the track as a percentage (0 to 100).                           |
| `timestamp`                 | int            | The time at which the data was recorded (milliseconds).                     |
| `yaw`, `pitch`, `roll`      | float          | The car's orientation in 3D space (yaw, pitch, roll).                       |
| `y`                         | float          | The carâ€™s vertical position (negative if off-track).                        |
| `time_speed_up_scale`       | float          | Time scaling factor if the simulation runs at an accelerated rate.          |
| `manual_control`            | int            | Is this operation currently a manual operation? If so, the value is 1.      |

### End of Episode Check

The environment also includes functionality to determine when an episode (training round) is over. This is handled by the [`_check_done` method](https://github.com/Bacon9629/PyAutoDriveRL-Env/blob/f29dae020be0b74792a3dc872e9a5c065b2a09be/CarRLEnvironment.py#L151).

#### Episode Termination Conditions:
- The episode ends if:
  - **`car_data.y < 0`**: The car has gone off the track.
  - **`car_data.progress >= 100.0`**: The car has completed the track.
- Additional time-based termination:
  - The episode may end if too much time has passed (based on the timestamp), and the car has not made significant progress.
